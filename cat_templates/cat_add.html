<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Creating Form...</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background-color: black;
      color: lime;
      text-align: center;
      padding: 40px;
      overflow-x: hidden;
    }
    .glitch-text {
      font-size: 2rem;
      color: red;
      animation: glitch 0.8s infinite;
    }
    @keyframes glitch {
      0% { transform: translate(1px, 1px); }
      20% { transform: translate(-2px, 0px); }
      40% { transform: translate(1px, -1px); }
      60% { transform: translate(-1px, 2px); }
      80% { transform: translate(2px, -2px); }
      100% { transform: translate(0px, 0px); }
    }
    #quiz-container {
      display: none;
      margin-top: 30px;
    }
    .question {
      font-size: 1.5rem;
      margin-bottom: 20px;
    }
    .answers button {
      background-color: darkred;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
    }
    .answers button:hover {
      background-color: crimson;
    }
    .biscuit {
      margin-top: 20px;
      font-size: 1.1rem;
      color: #ffcc00;
    }
    #floating {
      position: fixed;
      bottom: 10px;
      left: 0;
      right: 0;
      text-align: center;
      font-size: 1rem;
      color: white;
      font-style: italic;
      animation: floatText 3s infinite alternate;
      pointer-events: none;
    }
    @keyframes floatText {
      from { transform: translateY(0); opacity: 0.6; }
      to { transform: translateY(-10px); opacity: 1; }
    }
    audio {
      display: none;
    }
  </style>
</head>
<body>

  <h1 class="glitch-text" id="glitch">Creating New Counseling Form...</h1>
  <p id="intro">Please wait while we prepare your serious admission form...</p>

  <div id="quiz-container">
    <h2>üëπ Boss Fight: MATH üëπ</h2>
    <div class="question" id="question-text"></div>
    <div class="answers" id="answer-buttons"></div>
    <div class="biscuit" id="biscuit-line">üêæ Biscuit: "Let's crush these numbers!"</div>
  </div>

  <div id="floating">The Numbers were only the beginning... He is watching, KOT.</div>

  <audio id="bg-music" src="https://cdn.pixabay.com/audio/2022/08/20/audio_9d2cc6b5f3.mp3" loop></audio>

  <script>
    const questions = [
      { q: "What is 2 + 2?", a: ["3", "4", "5"], c: "4", biscuit: "This one's easy, right?" },
      { q: "What is 5 * 2?", a: ["10", "15", "20"], c: "10", biscuit: "We‚Äôre on fire!" },
      { q: "What is 10^2?", a: ["100", "10", "1000"], c: "100", biscuit: "Careful... he's watching." },
      { q: "What is 50^2?", a: ["2500", "5000", "1000"], c: "2500", biscuit: "You're doing great... I think." },
      { q: "What is 250^2?", a: ["62500", "25000", "12500"], c: "62500", biscuit: "...Wait. Why is the room colder?" }
    ];
    let currentQuestion = 0;

    function startBossFight() {
      document.getElementById("glitch").innerText = "WARNING: ENTITY DETECTED...";
      document.getElementById("intro").innerText = "You have been challenged by MATH!";
      document.getElementById("bg-music").play();

      setTimeout(() => {
        document.getElementById("glitch").style.display = "none";
        document.getElementById("intro").style.display = "none";
        document.getElementById("quiz-container").style.display = "block";
        showQuestion();
      }, 3000);
    }

    function showQuestion() {
      const q = questions[currentQuestion];
      document.getElementById("question-text").innerText = q.q;
      document.getElementById("biscuit-line").innerText = `üêæ Biscuit: "${q.biscuit}"`;

      const answers = document.getElementById("answer-buttons");
      answers.innerHTML = "";
      q.a.forEach(answer => {
        const btn = document.createElement("button");
        btn.innerText = answer;
        btn.onclick = () => checkAnswer(answer);
        answers.appendChild(btn);
      });
    }

    function checkAnswer(selected) {
      const correct = questions[currentQuestion].c;
      if (selected === correct) {
        currentQuestion++;
        if (currentQuestion < questions.length) {
          showQuestion();
        } else {
          // You win
          document.getElementById("biscuit-line").innerText = `üêæ Biscuit: "You... did it. But... this isn't over."`;
          setTimeout(() => {
            window.location.href = "/timerevealed";  // redirect to spooky clock
          }, 2500);
        }
      } else {
        alert("Wrong answer! You have failed.");
        window.location.href = "/";
      }
    }

    // Start the fake loading + glitch + fight
    setTimeout(startBossFight, 2000);
  </script>

</body>
</html>
